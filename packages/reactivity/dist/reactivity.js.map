{
  "version": 3,
  "sources": ["../src/effect.ts", "../../shared/src/index.ts", "../src/reactive.ts"],
  "sourcesContent": ["export function effect() {\n  \n}", "// shared:\u516C\u5171\u5DE5\u5177\u5E93\uFF0C\u628A\u591A\u4E2A\u5305\u90FD\u8981\u7528\u5230\u7684\u901A\u7528\u903B\u8F91\u63D0\u53D6\u5C01\u88C5\uFF0C\u4FDD\u6301\u4EE3\u7801 DRY \u4E0D\u91CD\u590D\uFF0C\u964D\u4F4E\u8026\u5408\n\nexport function isObject(value) {\n  // typeof null === object\n  return typeof value === 'object' && value !== null\n}", "import { isObject } from \"@vue/shared\"\n\n// \u7F13\u5B58\u8868\uFF1A\u7528\u4E8E\u8BB0\u5F55\u4EE3\u7406\u540E\u7684\u7ED3\u679C\uFF0C\u53EF\u4EE5\u590D\u7528  WeakMap \u9632\u6B62\u5185\u5B58\u6CC4\u6F0F\nconst reactiveMap = new WeakMap()\n// \u521B\u5EFA\u4E00\u4E2A\u679A\u4E3E\uFF0C\u6807\u8BB0\u662F\u5426\u662F\u54CD\u5E94\u5F0F\uFF08\u5DF2\u4EE3\u7406\uFF09\nenum ReactiveFlags {\n  IS_REACTIVE = '__v_isReactive'\n}\n// reactive / shallowReactive\n// Proxy \u7684\u53C2\u65702\uFF1A\u5305\u542B trap \u51FD\u6570\u7684\u5BF9\u8C61\nconst mutableHandlers: ProxyHandler<any> = {\n  get(target, key, receiver) {\n    // \u5982\u679C\u8BBF\u95EE\u5230\u5BF9\u8C61\u4E0A\u6709 IS_REACTIVUE \u8FD4\u56DEtrue\n    if (key === ReactiveFlags.IS_REACTIVE) {\n      return true\n    }\n  },\n  set(target, key, value, receiver) {\n    return true\n  }\n}\n\n// \u65B9\u6CD5\uFF1A\u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61\nfunction createReactiveObject(target) {\n  // \u5982\u679C\u4E0D\u662F\u5BF9\u8C61\uFF0C\u4E0D\u505A\u54CD\u5E94\u5F0F\u5904\u7406\n  if (!isObject(target)) {\n    return target;\n  }\n  // \u89E6\u53D1get\uFF0C\u5982\u679C\u5DF2\u7ECF\u4EE3\u7406\u8FC7\uFF0C\u76F4\u63A5\u8FD4\u56DE\n  if (target[ReactiveFlags.IS_REACTIVE]) {\n    return target;\n  }\n  // \u53D6\u7F13\u5B58\uFF0C\u5982\u679C\u5DF2\u7F13\u5B58\uFF0C\u76F4\u63A5\u8FD4\u56DE\n  const existProxy = reactiveMap.get(target);\n  if (existProxy) {\n    return existProxy\n  }\n  // \u5BF9\u8C61\u4EE3\u7406\u505A\u52AB\u6301\n  let proxy = new Proxy(target, mutableHandlers)\n  // \u6839\u636E\u5BF9\u8C61\u7F13\u5B58 \u4EE3\u7406\u540E\u7684\u7ED3\u679C\n  reactiveMap.set(target,proxy)\n  return proxy\n}\n\n// \u66B4\u9732 reactive\nexport function reactive(target) {\n  return createReactiveObject(target)\n}"],
  "mappings": ";AAAO,SAAS,SAAS;AAEzB;;;ACAO,SAAS,SAAS,OAAO;AAE9B,SAAO,OAAO,UAAU,YAAY,UAAU;AAChD;;;ACFA,IAAM,cAAc,oBAAI,QAAQ;AAOhC,IAAM,kBAAqC;AAAA,EACzC,IAAI,QAAQ,KAAK,UAAU;AAEzB,QAAI,QAAQ,oCAA2B;AACrC,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EACA,IAAI,QAAQ,KAAK,OAAO,UAAU;AAChC,WAAO;AAAA,EACT;AACF;AAGA,SAAS,qBAAqB,QAAQ;AAEpC,MAAI,CAAC,SAAS,MAAM,GAAG;AACrB,WAAO;AAAA,EACT;AAEA,MAAI,OAAO,kCAAyB,GAAG;AACrC,WAAO;AAAA,EACT;AAEA,QAAM,aAAa,YAAY,IAAI,MAAM;AACzC,MAAI,YAAY;AACd,WAAO;AAAA,EACT;AAEA,MAAI,QAAQ,IAAI,MAAM,QAAQ,eAAe;AAE7C,cAAY,IAAI,QAAO,KAAK;AAC5B,SAAO;AACT;AAGO,SAAS,SAAS,QAAQ;AAC/B,SAAO,qBAAqB,MAAM;AACpC;",
  "names": []
}
